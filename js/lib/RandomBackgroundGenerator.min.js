define("RandomBackgroundGenerator",[],function(){return function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:!1};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.loaded=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.p="",__webpack_require__(0)}([function(module,exports,__webpack_require__){function RandomBackgroundGenerator(argObj){argObj=argObj||{},this._canvas="undefined"!=typeof document?document.getElementById(argObj.canvasId):null,this._canvasContext=this._canvas?this._canvas.getContext("2d"):null,this._modeName=argObj.mode||POLYGONAL,this._mode=null,this._canvas&&(argObj.canvasWidth=this._canvas.clientWidth+this._canvas.clientWidth/5,argObj.canvasHeight=this._canvas.clientHeight+this._canvas.clientHeight/5,this._mode=new Modes[this._modeName](argObj),arguments.length>2&&this._mode.setBaseColors.apply(this._mode,argObj.baseColors?argObj.baseColors:[]))}var Modes={Polygonal:__webpack_require__(9),OverlappedRectangles:__webpack_require__(8)};Array.from=__webpack_require__(5).from;var POLYGONAL="Polygonal";RandomBackgroundGenerator.prototype.getMode=function(){return this._mode},RandomBackgroundGenerator.prototype._fillPolygon=function(polygon,styleFunc){this._canvasContext.save(),styleFunc.call(this._mode,polygon,this._canvasContext),this._canvasContext.beginPath();for(var points=polygon.points,i=0;i<points.length;i++)0===i?this._canvasContext.moveTo(points[i].x,points[i].y):this._canvasContext.lineTo(points[i].x,points[i].y);this._canvasContext.closePath(),this._canvasContext.fill(),this._canvasContext.restore()},RandomBackgroundGenerator.prototype.generate=function(){this._canvasContext.clearRect(0,0,this._canvas.clientWidth,this._canvas.clientHeight),this._mode.generate();for(var primitives=this._mode.getPrimitives(),i=0;i<primitives.length;i++)this._fillPolygon(primitives[i],this._mode.getStyleFunc())},module.exports=RandomBackgroundGenerator},function(module,exports,__webpack_require__){function shrinkRect(p1,p2,p3,p4,byDx,byDy){return byDx=byDx||0,byDy=byDy||0,{p1:p1.clone().add(new Vector(byDx,byDy)),p2:p2.clone().add(new Vector((-byDx),byDy)),p3:p3.clone().add(new Vector((-byDx),(-byDy))),p4:p4.clone().add(new Vector((-byDx),byDy))}}function clamp(x,lower,upper){return x<lower?lower:x>upper?upper:x}function getRandomNumberFromRange(lower,upper,isInt){if(lower>upper)return null;if(lower==upper)return lower;isInt=isInt||!0;var someRandomNumber1=1285,someRandomNumber2=2391,randomInt=parseInt(Math.random()*someRandomNumber1*Math.random()*someRandomNumber2)%(upper-lower);return isInt?lower+randomInt:lower+randomInt+Math.random()}function getRandomPointOnRect(p1,p2,p3,p4,isInt){isInt=isInt||!0;var width=Math.abs(p2.x-p1.x),height=Math.abs(p3.y-p2.y),topLeftX=Math.min(p1.x,p2.x,p3.x,p4.x),topLeftY=Math.min(p1.y,p2.y,p3.y,p4.y),randomDeltaX=getRandomNumberFromRange(0,width,isInt),randomDeltaY=getRandomNumberFromRange(0,height,isInt);return new Vector(topLeftX+randomDeltaX,topLeftY+randomDeltaY)}function getRandomPointOnLine(p1,p2){var projectionWidth=Math.abs(p1.x-p2.x),leftX=Math.min(p1.x,p2.x),A=(p1.y-p2.y)/(p1.x-p2.x),B=p1.y-A*p1.x,randomDeltaX=getRandomNumberFromRange(0,projectionWidth,!1);return new Vector(leftX+randomDeltaX,A*(leftX+randomDeltaX)+B)}function inherit(ctor,superCtor){ctor._super=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}})}var Vector=__webpack_require__(2);module.exports={clamp:clamp,getRandomNumberFromRange:getRandomNumberFromRange,getRandomPointOnRect:getRandomPointOnRect,getRandomPointOnLine:getRandomPointOnLine,inherit:inherit,shrinkRect:shrinkRect}},function(module,exports){function Vector(x,y){this.x=x||0,this.y=y||0}Vector.prototype.equal=function(vec){return this.x===vec.x&&this.y===vec.y},Vector.prototype.dot=function(v){return this.x*v.x+this.y*v.y},Vector.prototype.len2=function(){return this.dot(this)},Vector.prototype.len=function(){return Math.sqrt(this.len2())},Vector.prototype.copy=function(v){return this.x=v.x,this.y=v.y,this},Vector.prototype.clone=function(){return new Vector(this.x,this.y)},Vector.prototype.perp=function(){var x=this.x;return this.x=this.y,this.y=-x,this},Vector.prototype.reverse=function(){return this.x=-this.x,this.y=-this.y,this},Vector.prototype.translate=function(x,y){return this.x+=x,this.y+=y,this},Vector.prototype.rotate=function(angle){var radian=angle*(Math.PI/180),x=this.x;return this.x=this.x*Math.cos(radian)+this.y*Math.sin(radian),this.y=-x*Math.sin(radian)+this.y*Math.cos(radian),this},Vector.prototype.scale=function(sx,sy){return this.x*=sx,this.y*=sy||sx,this},Vector.prototype.normalize=function(){var d=this.len();return d>0&&(this.x/=d,this.y/=d),this},Vector.prototype.add=function(v){return this.x+=v.x,this.y+=v.y,this},Vector.prototype.sub=function(v){return this.x-=v.x,this.y-=v.y,this},Vector.prototype.project=function(axis){var cof=this.dot(axis)/axis.len2();return axis.scale(cof)},Vector.prototype.projectN=function(axis){var cof=this.dot(axis);return axis.scale(cof)},module.exports=Vector},function(module,exports,__webpack_require__){function isHex(color){return/#[a-f0-9]{6}/gi.test(color)}function isRgb(color){return color=color.replace(/\s/g,""),/rgb\([\d]{1,3}[.]?[\d]*\,[\d]{1,3}[.]?[\d]*\,[\d]{1,3}[.]?[\d]*\)/i.test(color)}function isRgba(color){return color=color.replace(/\s/g,""),/rgba\([\d]{1,3}[.]?[\d]*\,[\d]{1,3}[.]?[\d]*\,[\d]{1,3}[.]?[\d]*\,[\d]{1,3}[.]?[\d]*\)/i.test(color)}function hexToRgb(hex){return isHex(hex)?"rgb("+parseInt(hex.substr(1,2),16)+", "+parseInt(hex.substr(3,2),16)+", "+parseInt(hex.substr(5,2),16)+")":isRgb(hex)||isRgba(hex)?hex:null}function adjustColorBrightness(color,percentage){if(percentage=percentage||0,color=hexToRgb(color),null!==color){var regx=isRgb(color)?/[\d]{1,3}[.]?[\d]*/gi:/[\d]{1,3}[.]?[\d]*\,/gi,postfix=isRgb(color)?"":",";return color.replace(regx,function(e){return Math.round(utils.clamp(parseInt(e)*(1-percentage),0,255)).toString()+postfix})}return null}function randomColorBrightness(baseColor,brightnessIntensity){brightnessIntensity=brightnessIntensity||.5;var threshold=.2,rangeLower=utils.clamp(brightnessIntensity-threshold,0,1),rangeUpper=utils.clamp(brightnessIntensity+threshold,0,1),randomArr=[utils.getRandomNumberFromRange(rangeLower,rangeUpper-threshold,!1),utils.getRandomNumberFromRange(-rangeUpper,-rangeLower,!1)];return adjustColorBrightness(baseColor,randomArr[utils.getRandomNumberFromRange(0,2)])}function randomGradient(baseColor,brightnessIntensity){return brightnessIntensity=brightnessIntensity||.5,{first:randomColorBrightness(baseColor,brightnessIntensity),second:randomColorBrightness(baseColor,brightnessIntensity)}}var utils=__webpack_require__(1);module.exports.isHex=isHex,module.exports.isRgb=isRgb,module.exports.isRgba=isRgba,module.exports.hexToRgb=hexToRgb,module.exports.adjustColorBrightness=adjustColorBrightness,module.exports.randomColorBrightness=randomColorBrightness,module.exports.randomGradient=randomGradient},function(module,exports,__webpack_require__){function Mode(argObj){this._baseColors=argObj.baseColors||[],this._width=argObj.canvasWidth||0,this._height=argObj.canvasHeight||0,this._primitives=[],this._widthInterval=this._heightInterval=0,argObj&&argObj.density&&argObj.density.x&&!argObj.density.y&&argObj.density.y&&!argObj.density.x&&(argObj.density.x=argObj.density.y=argObj.density.x?argObj.density.x:argObj.density.y),this._xDensity=argObj.density&&argObj.density.x?1-argObj.density.x:.6,this._yDensity=argObj.density&&argObj.density.y?1-argObj.density.y:.6}Array.from=__webpack_require__(5).from,Mode.prototype.getDensity=function(){return{x:1-this._density.x,y:1-this._density.y}},Mode.prototype.setDensity=function(argObj){argObj&&(argObj.density&&argObj.density.x&&!argObj.density.y&&argObj.density.y&&!argObj.density.x&&(argObj.density.x=argObj.density.y=argObj.density.x?argObj.density.x:argObj.density.y),this._xDensity=argObj.x?1-argObj.x:0,this._yDensity=argObj.y?1-argObj.y:0)},Mode.prototype.setBaseColors=function(args){this._baseColors=Array.from(arguments)},Mode.prototype.getBaseColors=function(){return this._baseColors},Mode.prototype.getPrimitives=function(){return this._primitives},Mode.prototype.addPrimitive=function(polygon){this._primitives.push(polygon)},Mode.prototype.clearPrimitives=function(){this._primitives=[]},Mode.prototype.getStyleFunc=function(){return this._styleFunc},Mode.prototype._DENSITY_RATO_UPPER_BOUND=.3,Mode.prototype._DENSITY_RATO_LOWER_BOUND=.01,Mode.prototype._DENSITY_RATO_DIF=Mode.prototype._DENSITY_RATO_UPPER_BOUND-Mode.prototype._DENSITY_RATO_LOWER_BOUND,Mode.prototype._calcIntervals=function(){this._widthInterval=this._width*(this._DENSITY_RATO_LOWER_BOUND+this._DENSITY_RATO_DIF*this._xDensity),this._heightInterval=this._height*(this._DENSITY_RATO_LOWER_BOUND+this._DENSITY_RATO_DIF*this._yDensity)},module.exports=Mode},function(module,exports){Array.from||(Array.from=function(){var toStr=Object.prototype.toString,isCallable=function(fn){return"function"==typeof fn||"[object Function]"===toStr.call(fn)},toInteger=function(value){var number=Number(value);return isNaN(number)?0:0!==number&&isFinite(number)?(number>0?1:-1)*Math.floor(Math.abs(number)):number},maxSafeInteger=Math.pow(2,53)-1,toLength=function(value){var len=toInteger(value);return Math.min(Math.max(len,0),maxSafeInteger)};return function(arrayLike){var C=this,items=Object(arrayLike);if(null===arrayLike)throw new TypeError("Array.from requires an array-like object - not null or undefined");var T,mapFn=arguments.length>1?arguments[1]:void 0;if("undefined"!=typeof mapFn){if(!isCallable(mapFn))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(T=arguments[2])}for(var kValue,len=toLength(items.length),A=isCallable(C)?Object(new C(len)):new Array(len),k=0;k<len;)kValue=items[k],mapFn?A[k]="undefined"==typeof T?mapFn(kValue,k):mapFn.call(T,kValue,k):A[k]=kValue,k+=1;return A.length=len,A}}()),module.exports={from:Array.from}},function(module,exports){function Polygon(points){this._points=points||[]}Polygon.prototype={get points(){return this._points},set points(points){this._points=points},equal:function(polygon){var reversed=polygon.points;return reversed.reverse(),this.points.every(function(element,index){return element.equal(polygon.points[index])})||this.points.every(function(element,index){return element.equal(reversed[index])})},translate:function(dx,dy){return this.points.map(function(ele){return ele.translate(dx,dy)}),this},rotate:function(angle,origin){return this.translate(-origin.x,-origin.y),this.points.map(function(ele){return ele.rotate(angle)}),this.translate(origin.x,origin.y),this},clone:function(){var clonedPoints=[];return this.points.forEach(function(ele){clonedPoints.push(ele.clone())}),new Polygon(clonedPoints)}},module.exports=Polygon},function(module,exports){function Graph(rowCount,columnCount,initialValue){this._rowCount=rowCount||0,this._columnCount=columnCount||0,this._data=new Array(rowCount);for(var i=0;i<rowCount;i++)this._data[i]=new Array(columnCount).fill(initialValue||0,0);this._edges={}}Graph.prototype._checkBound=function(i,j){return!(i>=this._rowCount||j>=this._columnCount||i<0||j<0)},Graph.prototype._getId=function(i,j){return this._checkBound(i,j)?i.toString()+j.toString():null},Graph.prototype.rowCount=function(){return this._rowCount},Graph.prototype.columnCount=function(){return this._columnCount},Graph.prototype.insert=function(i,j,value){return!!this._checkBound(i,j)&&(this._data[i][j]=value,!0)},Graph.prototype.get=function(i,j){return this._checkBound(i,j)?this._data[i][j]:null},Graph.prototype.isConnected=function(i1,j1,i2,j2){if(!this._checkBound(i1,j1)||!this._checkBound(i2,j2))return!1;var id1=this._getId(i1,j1),id2=this._getId(i2,j2);return"undefined"!=typeof this._edges[id1]&&this._edges[id1][id2]},Graph.prototype.connect=function(i1,j1,i2,j2){if(!this._checkBound(i1,j1)||!this._checkBound(i2,j2))return!1;var id1=this._getId(i1,j1),id2=this._getId(i2,j2);return"undefined"==typeof this._edges[id1]&&(this._edges[id1]={}),this._edges[id1][id2]=!0,!0},Graph.prototype.disconnect=function(i1,j1,i2,j2){if(!this._checkBound(i1,j1)||!this._checkBound(i2,j2))return!1;var id1=this._getId(i1,j1),id2=this._getId(i2,j2);return"undefined"==typeof this._edges[id1]||(this._edges[id1][id2]=!1,!0)},module.exports=Graph},function(module,exports,__webpack_require__){function OverlappedRectanglesMode(argObj){OverlappedRectanglesMode._super.call(this,argObj),this._rectWidth=argObj.rectWidth||0,this._rectHeight=argObj.rectHeight||0,this._rect=new Polygon([new Vector((-this._rectWidth),(-this._rectHeight)),new Vector(0,(-this._rectHeight)),new Vector(0,0),new Vector((-this._rectWidth),0)]),this._rectCenter=new Vector(this._rectWidth/2,this._rectHeight/2),this._isMixed=argObj.isMixed||!1,this._brightnessRange=argObj.brightnessRange||{low:.3,high:.7}}var Mode=__webpack_require__(4),utils=__webpack_require__(1),Vector=__webpack_require__(2),colorUtils=__webpack_require__(3),Polygon=__webpack_require__(6);utils.inherit(OverlappedRectanglesMode,Mode),OverlappedRectanglesMode.prototype.setRectSize=function(argObj){this._rectWidth=argObj.rectWidth||this._rectWidth,this._rectHeight=argObj.rectHeight||this._rectHeight,this._rect?(this._rect.points[1].x=this._rect.points[2].x=this._rectWidth,this._rect.points[2].y=this._rect.points[3].y=this._rectHeight):this._rect=new Polygon([new Vector((-this._rectWidth),(-this._rectHeight)),new Vector(0,(-this._rectHeight)),new Vector(0,0),new Vector((-this._rectWidth),0)])},OverlappedRectanglesMode.prototype._getBaseColors=function(){return this._isMixed?this._baseColors:[this._baseColors[utils.getRandomNumberFromRange(0,this._baseColors.length)]]},OverlappedRectanglesMode.prototype._originalStyleFunc=function(color,polygon,ctx){color=color[utils.getRandomNumberFromRange(0,color.length)],ctx.shadowColor="rgba(0, 0, 0, 0.7)",ctx.shadowOffsetY=8,ctx.shadowBlur=10,ctx.fillStyle=colorUtils.randomColorBrightness(color,utils.getRandomNumberFromRange(this._brightnessRange.low,this._brightnessRange.high))},OverlappedRectanglesMode.prototype._POLYGON_COUNT_PER_GRID_MAX=5,OverlappedRectanglesMode.prototype._generatePrimitives=function(){this.clearPrimitives(),this._calcIntervals();for(var polygonCountPerGrid=(1-(this._xDensity+this._yDensity)/2)*this._POLYGON_COUNT_PER_GRID_MAX,rowCount=Math.floor(this._height/this._heightInterval)+1,colCount=Math.floor(this._width/this._widthInterval)+1,p1=new Vector((-this._widthInterval),(-this._heightInterval)),p2=new Vector(0,(-this._heightInterval)),p3=new Vector(0,0),p4=new Vector((-this._widthInterval),0),i=0;i<rowCount;i++){for(var j=0;j<colCount;j++){for(var cnt=0;cnt<polygonCountPerGrid;cnt++){var randPoint=utils.getRandomPointOnRect(p1,p2,p3,p4);this.addPrimitive(this._rect.clone().rotate(utils.getRandomNumberFromRange(-360,360),this._rectCenter).translate(randPoint.x,randPoint.y))}p1.x+=this._widthInterval,p2.x+=this._widthInterval,p3.x+=this._widthInterval,p4.x+=this._widthInterval}p1.x=p4.x=0,p2.x=p3.x=this._widthInterval,p1.y+=this._heightInterval,p2.y+=this._heightInterval,p3.y+=this._heightInterval,p4.y+=this._heightInterval}},OverlappedRectanglesMode.prototype.generate=function(){this._styleFunc=this._originalStyleFunc.bind(this,this._getBaseColors()),this._generatePrimitives()},module.exports=OverlappedRectanglesMode},function(module,exports,__webpack_require__){function PolygonalMode(argObj){PolygonalMode._super.call(this,argObj),this._isMixed=argObj.isMixed||!1}var Mode=__webpack_require__(4),utils=__webpack_require__(1),Polygon=__webpack_require__(6),Graph=__webpack_require__(7),Vector=__webpack_require__(2),colorUtils=__webpack_require__(3);utils.inherit(PolygonalMode,Mode),PolygonalMode.prototype.setMixed=function(flag){this._isMixed=flag},PolygonalMode.prototype.isMixed=function(){return this._isMixed},PolygonalMode.prototype._getBaseColors=function(){return this._isMixed?this._baseColors:[this._baseColors[utils.getRandomNumberFromRange(0,this._baseColors.length)]]},PolygonalMode.prototype._originalStyleFunc=function(color,polygon,ctx){if(color=color[utils.getRandomNumberFromRange(0,color.length)],3===polygon.points.length){for(var endPoint,startPoint=polygon.points[utils.getRandomNumberFromRange(0,polygon.points.length)],index=polygon.points.indexOf(startPoint),line=[],i=0;i<polygon.points.length;i++)i!==index&&line.push(polygon.points[i]);var axis=new Vector(line[0].x-line[1].x,line[0].y-line[1].y);endPoint=startPoint.project(axis);var grad=ctx.createLinearGradient(startPoint.x,startPoint.y,endPoint.x,endPoint.y),gradColors=colorUtils.randomGradient(colorUtils.randomColorBrightness(color,utils.getRandomNumberFromRange(0,.1)),utils.getRandomNumberFromRange(0,.1));grad.addColorStop(0,gradColors.first),grad.addColorStop(1,gradColors.second),ctx.fillStyle=grad}else ctx.fillStyle=colorUtils.randomColorBrightness(color)},PolygonalMode.prototype._generatePrimitives=function(){this.clearPrimitives(),this._calcIntervals();for(var rowCount=Math.floor(this._height/this._heightInterval)+1,colCount=Math.floor(this._width/this._widthInterval)+1,graph=new Graph(rowCount,colCount),p1=new Vector(0,0),p2=new Vector(this._widthInterval,0),p3=new Vector(this._widthInterval,this._heightInterval),p4=new Vector(0,this._heightInterval),i=0;i<rowCount;i++){for(var j=0;j<colCount;j++){var randPoint,shrinked=utils.shrinkRect(p1,p2,p3,p4,this._widthInterval/5,0);randPoint=0===j?0===i?new Vector(i*this._widthInterval,j*this._heightInterval):utils.getRandomPointOnRect(shrinked.p1,shrinked.p1,shrinked.p4,shrinked.p4):j===colCount-1?utils.getRandomPointOnRect(shrinked.p2,shrinked.p2,shrinked.p3,shrinked.p3):0===i?utils.getRandomPointOnRect(shrinked.p1,shrinked.p2,shrinked.p2,shrinked.p1):i===rowCount-1?utils.getRandomPointOnRect(shrinked.p4,shrinked.p3,shrinked.p3,shrinked.p4):utils.getRandomPointOnRect(shrinked.p1,shrinked.p2,shrinked.p3,shrinked.p4),graph.insert(i,j,randPoint),p1.x+=this._widthInterval,p2.x+=this._widthInterval,p3.x+=this._widthInterval,p4.x+=this._widthInterval}p1.x=p4.x=0,p2.x=p3.x=this._widthInterval,p1.y+=this._heightInterval,p2.y+=this._heightInterval,p3.y+=this._heightInterval,p4.y+=this._heightInterval}for(var di=[-1,-1,-1,0,1,1,1,0],dj=[-1,0,1,1,1,0,-1,-1],i=0;i<rowCount;i++)for(var j=0;j<colCount;j++){for(var firstPoint,prevPoint,cnt=0,k=0;k<di.length;k++){var currPoint=graph.get(i+di[k],j+dj[k]);currPoint&&(graph.connect(i,j,i+di[k],j+dj[k]),cnt++,1===cnt?firstPoint=currPoint:this.addPrimitive(new Polygon([graph.get(i,j),prevPoint,currPoint])),prevPoint=currPoint)}void 0===firstPoint||void 0===prevPoint||firstPoint.equal(prevPoint)||this.addPrimitive(new Polygon([graph.get(i,j),prevPoint,firstPoint]))}},PolygonalMode.prototype.generate=function(){this._styleFunc=this._originalStyleFunc.bind(this,this._getBaseColors()),this._generatePrimitives()},module.exports=PolygonalMode}])});